{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Riley/Desktop/UIC_Code/course_work/StrangersThings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Riley/Desktop/UIC_Code/course_work/StrangersThings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/Riley/Desktop/UIC_Code/course_work/StrangersThings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Component,useEffect,useState}from'react';import Axios from'axios';import{Redirect,Route,useHistory}from'react-router-dom';import'./Register';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),usernameLogin=_useState2[0],setUsernameLogin=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),passwordLogin=_useState4[0],setPasswordLogin=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),loginStatus=_useState6[0],setLoginStatus=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),token=_useState8[0],setToken=_useState8[1];var user={user:{username:usernameLogin,password:passwordLogin}};var history=useHistory();var login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// Show the Username and Password that is created through registration\nconsole.log('Username: ',usernameLogin,'Password: ',passwordLogin);// Axios.post Request to fetch the data inside the API\n_context.next=3;return Axios.post(\"https://strangers-things.herokuapp.com/api/2104-uic-web-ft/users/login\",user);case 3:response=_context.sent;console.log('Here is the result object: ',response);// Get Stored Token\nlocalStorage.getItem('token');if(history){history.push('/');}case 7:case\"end\":return _context.stop();}}},_callee);}));return function login(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"username\",onChange:function onChange(e){setUsernameLogin(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"password\",onChange:function onChange(e){setPasswordLogin(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return login();},children:\" Login \"})]}),/*#__PURE__*/_jsx(\"h1\",{children:loginStatus})]});}","map":{"version":3,"sources":["/Users/Riley/Desktop/UIC_Code/course_work/StrangersThings/src/components/Login.js"],"names":["React","Component","useEffect","useState","Axios","Redirect","Route","useHistory","login","usernameLogin","setUsernameLogin","passwordLogin","setPasswordLogin","loginStatus","setLoginStatus","token","setToken","user","username","password","history","console","log","post","response","localStorage","getItem","push","e","target","value"],"mappings":"6gBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,SAA3B,CAAsCC,QAAtC,KAAqD,OAArD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,QAAR,CAAkBC,KAAlB,CAAyBC,UAAzB,KAA0C,kBAA1C,CACA,MAAO,YAAP,C,wFAEA,cAAe,SAASC,CAAAA,KAAT,EAAiB,CAE5B,cAA0CL,QAAQ,CAAC,EAAD,CAAlD,wCAAOM,aAAP,eAAsBC,gBAAtB,eACA,eAA0CP,QAAQ,CAAC,EAAD,CAAlD,yCAAOQ,aAAP,eAAsBC,gBAAtB,eAEA,eAAsCT,QAAQ,CAAC,EAAD,CAA9C,yCAAOU,WAAP,eAAoBC,cAApB,eACA,eAA0BX,QAAQ,CAAC,EAAD,CAAlC,yCAAOY,KAAP,eAAcC,QAAd,eAEA,GAAMC,CAAAA,IAAI,CAAG,CAACA,IAAI,CACd,CACIC,QAAQ,CAAET,aADd,CAEIU,QAAQ,CAAER,aAFd,CADS,CAAb,CAOA,GAAIS,CAAAA,OAAO,CAAGb,UAAU,EAAxB,CAEA,GAAMC,CAAAA,KAAK,0FAAG,gJACZ;AACAa,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0Bb,aAA1B,CAAyC,YAAzC,CAAuDE,aAAvD,EAEA;AAJY,sBAKSP,CAAAA,KAAK,CAACmB,IAAN,CAAW,wEAAX,CAAqFN,IAArF,CALT,QAKRO,QALQ,eAMZH,OAAO,CAACC,GAAR,CAAY,6BAAZ,CAA2CE,QAA3C,EAEA;AACAC,YAAY,CAACC,OAAb,CAAqB,OAArB,EAEA,GAAIN,OAAJ,CAAa,CACXA,OAAO,CAACO,IAAR,CAAa,GAAb,EACD,CAbW,sDAAH,kBAALnB,CAAAA,KAAK,0CAAX,CAiBF,mBACE,oCACE,6BADF,cACgB,aADhB,cACqB,aADrB,cAEE,aAAK,SAAS,CAAC,OAAf,wBACE,mCADF,kBAC0B,aAD1B,cAEE,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,UAA/B,CAA0C,QAAQ,CAAE,kBAACoB,CAAD,CAAO,CACrDlB,gBAAgB,CAACkB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB,CACD,CAFL,EAFF,cAOE,aAPF,cAOO,mCAPP,cAO8B,aAP9B,cAQE,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,UAA/B,CAA0C,QAAQ,CAAE,kBAACF,CAAD,CAAO,CACrDhB,gBAAgB,CAACgB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB,CACD,CAFL,EARF,cAYE,aAZF,cAYO,aAZP,cAYY,eAAQ,OAAO,CAAE,yBAAMtB,CAAAA,KAAK,EAAX,EAAjB,qBAZZ,GAFF,cAiBE,oBAAKK,WAAL,EAjBF,GADF,CAqBD","sourcesContent":["import React, { Component, useEffect, useState} from 'react';\nimport Axios from 'axios';\nimport {Redirect, Route, useHistory} from 'react-router-dom';\nimport './Register';\n\nexport default function login() {\n\n    const [usernameLogin, setUsernameLogin] = useState(\"\");\n    const [passwordLogin, setPasswordLogin] = useState(\"\");\n\n    const [loginStatus, setLoginStatus] = useState(\"\"); \n    const [token, setToken] = useState(\"\");\n\n    const user = {user: \n        {\n            username: usernameLogin,\n            password: passwordLogin,\n        }\n    }\n\n    let history = useHistory();\n\n    const login = async () => {\n      // Show the Username and Password that is created through registration\n      console.log('Username: ', usernameLogin, 'Password: ', passwordLogin);\n      \n      // Axios.post Request to fetch the data inside the API\n      let response = await Axios.post(\"https://strangers-things.herokuapp.com/api/2104-uic-web-ft/users/login\", user)\n      console.log('Here is the result object: ', response);\n\n      // Get Stored Token\n      localStorage.getItem('token');\n\n      if (history) {\n        history.push('/');\n      }\n        \n  };\n\n  return (\n    <div>\n      <h1>Login</h1><br/><br/>\n      <div className=\"login\">\n        <label>Username</label> <br/>\n        <input type=\"text\" placeholder=\"username\" onChange={(e) => {\n              setUsernameLogin(e.target.value);\n            }}\n        />\n\n        <br/><label>Password</label><br/>\n        <input type=\"text\" placeholder=\"password\" onChange={(e) => {\n              setPasswordLogin(e.target.value);\n            }}\n        />\n        <br/><br/><button onClick={() => login()}> Login </button>\n      </div>\n\n      <h1>{loginStatus}</h1>\n    </div>\n  );\n}\n\n"]},"metadata":{},"sourceType":"module"}