(this["webpackJsonpstrangers-things"]=this["webpackJsonpstrangers-things"]||[]).push([[0],{34:function(e,t,s){},60:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s(28),r=s.n(c),a=(s(34),s(12)),o=s(2),i=s(0);var j=function(){return Object(i.jsx)("div",{children:"Welcome to Craiglist-Lite!"})},l=s(5),b=s.n(l),u=s(10),h=s(11),p=s.n(h),d=s(4);function O(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),s=t[0],c=t[1],r=Object(n.useState)(""),a=Object(d.a)(r,2),o=a[0],j=a[1],l=Object(n.useState)(""),h=Object(d.a)(l,2),O=h[0],x=(h[1],Object(n.useState)("")),g=Object(d.a)(x,2),m=(g[0],g[1],{user:{username:s,password:o}}),f=function(){var e=Object(u.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(s,o),e.next=3,p.a.post("https://strangers-things.herokuapp.com/api/2104-uic-web-ft/users/register",m);case 3:t=e.sent,console.log("This is the response object: ",t),n=t.data.data.token,localStorage.setItem("token",n),console.log("Stored token: ",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Registration"}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:"registration",children:[Object(i.jsx)("label",{children:"Username"})," ",Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",placeholder:"username",onChange:function(e){c(e.target.value)}}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{children:"Password"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",placeholder:"password",onChange:function(e){j(e.target.value)}}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{onClick:function(){return f()},children:" Register "})]}),Object(i.jsx)("h1",{children:O})]})}function x(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),s=t[0],c=t[1],r=Object(n.useState)(""),a=Object(d.a)(r,2),j=a[0],l=a[1],h=Object(n.useState)(""),O=Object(d.a)(h,2),x=O[0],g=(O[1],Object(n.useState)("")),m=Object(d.a)(g,2),f=(m[0],m[1],{user:{username:s,password:j}}),v=Object(o.f)(),w=function(){var e=Object(u.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Username: ",s,"Password: ",j),e.next=3,p.a.post("https://strangers-things.herokuapp.com/api/2104-uic-web-ft/users/login",f);case 3:t=e.sent,console.log("Here is the result object: ",t),localStorage.getItem("token"),v&&v.push("/");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Login"}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:"login",children:[Object(i.jsx)("label",{children:"Username"})," ",Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",placeholder:"username",onChange:function(e){c(e.target.value)}}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{children:"Password"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",placeholder:"password",onChange:function(e){l(e.target.value)}}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{onClick:function(){return w()},children:" Login "})]}),Object(i.jsx)("h1",{children:x})]})}var g=function(e){var t=localStorage.getItem("token");p.a.interceptors.request.use((function(e){return e.headers.authorization="Bearer ".concat(t),e}),(function(e){return Promise.reject(e)}));var s=function(){var e=Object(u.a)(b.a.mark((function e(){var t,s,n,c,r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.getItem("token"),e.next=3,p.a.get("https://strangers-things.herokuapp.com/api/2104-uic-web-ft/users/me");case 3:return t=e.sent,console.log("Here is the res object for the info: ",t),e.next=7,p.a.get("https://strangers-things.herokuapp.com/api/2104-uic-web-ft/test/me");case 7:s=e.sent,console.log("Test: ",s),n=t.data.data.messages,console.log("Here are my messages: ",n),c=t.data.data.posts,console.log("Here are my posts: ",c),r=t.data.data._id,console.log("Here is my id: ",r),a=t.data.data.username,console.log("Here is my username: ",a);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"Show Info",children:[" ",Object(i.jsx)("h2",{children:"Show My Notifications"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"button",onClick:function(){return s()},value:"Show Info"})]}),Object(i.jsx)("br",{}),Object(i.jsx)("h3",{children:"Welcome User!"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"Logout",children:Object(i.jsx)("input",{type:"button",onClick:handleLogout,value:"Logout"})})]})};var m=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),s=t[0],c=t[1],r=Object(n.useState)(""),a=Object(d.a)(r,2),o=a[0],j=a[1],l=Object(n.useState)(""),h=Object(d.a)(l,2),O=h[0],x=h[1],g=Object(n.useState)(""),m=Object(d.a)(g,2),f=m[0],v=m[1],w=Object(n.useState)(""),y=Object(d.a)(w,2),S=y[0],k=y[1],C=Object(n.useState)(""),P=Object(d.a)(C,2),N=P[0],L=P[1],T=Object(n.useState)(""),D=Object(d.a)(T,2),I=D[0],A=D[1],H=localStorage.getItem("token"),R={title:o,description:O,price:f,author:S,location:N,willDeliver:I},B=function(){var e=Object(u.a)(b.a.mark((function e(){var t,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://strangers-things.herokuapp.com/api/2104-uic-web-ft/posts",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(H)},body:JSON.stringify({post:R})});case 2:return t=e.sent,e.next=5,t.json();case 5:return s=e.sent,console.log("Data: ",s),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(b.a.mark((function e(){var t,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://strangers-things.herokuapp.com/api/2104-uic-web-ft/posts/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(H)}});case 2:return t=e.sent,e.next=5,t.json();case 5:return s=e.sent,s.data.posts,console.log("data2: ",s.data.posts.location),e.next=10,fetch("https://strangers-things.herokuapp.com/api/2104-uic-web-ft/posts/10",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(H)},body:JSON.stringify({post:R})});case 10:e.sent;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(b.a.mark((function e(){var t,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.getItem("token"),e.next=3,p.a.get("https://strangers-things.herokuapp.com/api/2104-uic-web-ft/posts");case 3:t=e.sent,console.log("Response Object: ",t),s=t.data.data.posts,console.log("Posts: ",s),c(s);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.jsxs)("main",{children:[Object(i.jsxs)("div",{className:"Post Results",children:[Object(i.jsxs)("form",{children:[Object(i.jsxs)("label",{htmlFor:"header-search",children:[Object(i.jsx)("br",{}),Object(i.jsx)("span",{className:"visually-hidden",children:"Create Posts: \xa0 "})]}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",id:"header-search",placeholder:"Post Title",name:"title",onChange:function(e){j(e.target.value)}}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",id:"header-search",placeholder:"Post Description",name:"description",onChange:function(e){x(e.target.value)}}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",id:"header-search",placeholder:"Post Price",name:"price",onChange:function(e){v(e.target.value)}}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",id:"header-search",placeholder:"Post Author",name:"author",onChange:function(e){k(e.target.value)}}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",id:"header-search",placeholder:"Post Location",name:"location",onChange:function(e){L(e.target.value)}}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"text",id:"header-search",placeholder:"willDeliver: true or false",name:"willDeliver",onChange:function(e){A(e.target.value)}}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"button",onClick:function(){return B()},value:"Add Posts"}),Object(i.jsx)("input",{type:"button",onClick:function(){return U()},value:"Edit Posts"})]}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{})]}),Object(i.jsxs)("div",{children:[s.map((function(e,t){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("h3",{children:["Title: ",e.title]}),Object(i.jsxs)("h3",{children:["Description: ",e.description]}),Object(i.jsx)("br",{}),Object(i.jsxs)("p",{children:[" Price: ",e.price]}),Object(i.jsxs)("p",{children:[" Author: ",e.author.username]}),Object(i.jsxs)("p",{children:[" Location: ",e.location]}),Object(i.jsxs)("p",{children:[" WillDeliver: ",e.willDeliver]}),Object(i.jsx)("br",{})]},t)})),Object(i.jsx)("input",{type:"button",onClick:function(){return z()},value:"Show Posts"})]})]})},f=window.location.search,v=(new URLSearchParams(f).get("s"),function(){return Object(i.jsxs)("form",{action:"/",method:"get",children:[Object(i.jsxs)("label",{htmlFor:"header-search",children:[Object(i.jsx)("br",{}),Object(i.jsx)("span",{className:"visually-hidden",children:"Search Craigslist-Lite posts \xa0 "})]}),Object(i.jsx)("input",{type:"text",id:"header-search",placeholder:"Search Posts",name:"s"}),Object(i.jsx)("button",{type:"submit",children:"Search"})]})});function w(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(a.a,{children:Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"header",children:[Object(i.jsx)(a.b,{exact:!0,activeClassName:"active",to:"/",children:"Home"}),Object(i.jsx)(a.b,{activeClassName:"active",to:"/Posts",children:"Posts"}),Object(i.jsx)(a.b,{activeClassName:"active",to:"/Register",children:"Register"}),Object(i.jsx)(a.b,{activeClassName:"active",to:"/Login",children:"Login"}),Object(i.jsx)(a.b,{activeClassName:"active",to:"/Dashboard",children:"Profile"}),Object(i.jsx)("div",{children:Object(i.jsx)(v,{})})]}),Object(i.jsx)("div",{className:"content",children:Object(i.jsxs)(o.c,{children:[Object(i.jsx)(o.a,{exact:!0,path:"/",component:j}),Object(i.jsx)(o.a,{path:"/register",component:O}),Object(i.jsx)(o.a,{path:"/login",component:x}),Object(i.jsx)(o.a,{path:"/dashboard",component:g}),Object(i.jsx)(o.a,{path:"/posts",component:m})]})})]})})})}r.a.render(Object(i.jsx)(w,{}),document.getElementById("root"));t.default=w}},[[60,1,2]]]);
//# sourceMappingURL=main.e238d4d5.chunk.js.map